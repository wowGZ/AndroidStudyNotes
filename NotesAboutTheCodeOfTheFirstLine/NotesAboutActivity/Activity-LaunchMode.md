---
title: Activity-LaunchMode
---
## 活动的启动模式

在实际项目中我们需要根据特定的需求为每个活动指定恰当的启动模式，启动模式一共有四种：
1. standard
2. singleTop
3. singTask
4. singInstance
可以在AndroidManifest.xml文件中通过给<activity>标签指定android:launchMode属性来选择启动模式

### standard

standard是活动的默认的启动模式，在standard模式中，每当启动一个新的活动的时候，它就会在返回栈中入栈，并且处于栈顶的位置。对于使用standard模式的活动，系统不会在乎这个活动是否已经在返回栈中存在，每次启动都会创建该活动的一个新的实例。

也就是说，如果你在一个活动的基础上多次重复启动这个活动，那么就需要多次关闭这个活动，也就是你每次所启动的活动都是相互独立的单个活动，只不过他们的样式是一样的。

这就是standard模式的原理。

### singleTop

有些时候standard模式显得不那么合理，活动已经在栈顶了为什么还要在重新创建一个实例呢？

singleTop模式：当活动指定为singleTop模式的时候，在启动活动是如果发现返回栈的栈顶已经是这个活动的话，则认为可以直接使用它，不会再创建新的实例。

但是如果该活动并不在栈顶的话，那么还是会重新创建新的实例的。

使用singleTop模式可以很好的解决重复创建栈顶活动的问题。

### singleTask

singleTop解决的是重复创建栈顶活动的问题，但是如果当活动并不在栈顶的时候还是会重复的创建活动的实例。这个就需要借助singleTask模式来实现了。

当活动模式指定为singleTask模式时，每次启动该活动时，系统首先会在返回栈中检查是否存在该活动的实例，如果发现存在那么就会直接使用该实例，并且会 **把所有在该活动之上的所有活动统统出栈。** 如果没有该活动的实例，那么才会创建一个这个活动的实例并且置于栈顶的位置。

### singleInstance

singleInstance模式算是四个启动模式中最特殊和复杂的一个了。

指定为singleInstance的活动会启用一个新的返回栈来管理这个活动。
